---
import Base from "@/layouts/Base.astro";
import Intro from "@/components/Intro.astro";
import About from "@/components/About.astro";
import Education from "@/components/Education.astro";
import Certs from "@/components/Certs.astro";
import { getEntry } from "astro:content";
import Work from "@/components/Work.astro";
import { getCollection } from "astro:content";

const name = "Christian Diaz";
const titles = [
  "Site Reliability Engineer.",
  "Cloud Engineer.",
  "DevOps Engineer.",
];
const bio = await getEntry("bio", "main");
const workExperience = (await getCollection("experience")).sort(
  (a, b) => a.data.sortOrder - b.data.sortOrder
);
const education = await getCollection("education");
const certifications = await getCollection("certs");

const fade_delay = 0.2;
---

<Base title=`${name} | Resume`>
  <main>
    <Intro name={name} titles={titles} fade_delay={fade_delay} />
    <br />
    <About summary={bio.body} fade_delay={fade_delay} />
    <br />
    <Work fade_delay={fade_delay} workExperience={workExperience} />
    <br />
    <Education education_items={education} fade_delay={fade_delay} />
    <br />
    <Certs certifications={certifications} fade_delay={fade_delay} />
  </main>
</Base>
