---
import Base from "@/layouts/Base.astro";
import { Chip } from "@nextui-org/react";
import { Image } from "astro:assets";
import { getCollection } from "astro:content";
export async function getStaticPaths() {
  const projectEntries = await getCollection("projects");
  return projectEntries.map((project) => ({
    params: { slug: project.slug },
    props: { project },
  }));
}

const { project } = Astro.props;
const { Content } = await project.render();
---

<Base title={project.data.name}>
  <main class="max-w-2xl mx-auto py-12 sm:py-24 px-6 bg-background">
    <div class="max-w-3xl px-4 pt-6 lg:pt-10 pb-12 sm:px-6 lg:px-8 mx-auto">
      <div class="max-w-2xl">
        <div class="flex justify-between items-center mb-6">
          <!-- Skills -->
          {
            project.data.skills && (
              <div>
                {project.data.skills.map((skill) => (
                  <Chip className="gap-2 py-2 px-3" client:visible>
                    {skill}
                  </Chip>
                ))}
              </div>
            )
          }
          <!-- End Skills -->
        </div>
        <!-- Content -->
        <div class="space-y-5 md:space-y-8">
          <div class="space-y-3">
            <h2 class="text-2xl font-bold md:text-3xl dark:text-white">
              {project.data.name}
            </h2>
            <Content />
          </div>
        </div>
        <!-- End Content -->
      </div>
    </div>
  </main>
</Base>
